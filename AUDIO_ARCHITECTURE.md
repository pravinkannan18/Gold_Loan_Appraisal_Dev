# Audio Integration Architecture & System Design

## High-Level System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRONTEND (React/TypeScript)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ PurityTestingPage â”‚  â”‚  SettingsPage    â”‚  â”‚  Dashboard   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                      â”‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ AudioVisualizer  â”‚  â”‚ Microphone Selectorâ”‚                  â”‚
â”‚  â”‚ PurityResults    â”‚  â”‚ Config Controls    â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚           â”‚                      â”‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚      React Custom Hooks                    â”‚                  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                  â”‚
â”‚  â”‚  â”‚ useAudioCapture()                    â”‚ â”‚                  â”‚
â”‚  â”‚  â”‚ - Manages microphone access          â”‚ â”‚                  â”‚
â”‚  â”‚  â”‚ - Captures audio chunks              â”‚ â”‚                  â”‚
â”‚  â”‚  â”‚ - Sends to buffer                    â”‚ â”‚                  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                  â”‚
â”‚  â”‚  â”‚ useAudioService()                    â”‚ â”‚                  â”‚
â”‚  â”‚  â”‚ - Calls backend API                  â”‚ â”‚                  â”‚
â”‚  â”‚  â”‚ - Manages predictions                â”‚ â”‚                  â”‚
â”‚  â”‚  â”‚ - Handles errors                     â”‚ â”‚                  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                        â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTP/JSON
                         â”‚ POST /api/audio/*
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND (FastAPI/Python)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Audio Router (/api/audio/*)                     â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Endpoints (12 total)                                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Configuration:                                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - initialize() - Load model                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - configure() - Update settings                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Processing:                                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - process-chunk() - Receive audio                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - infer() - Run inference                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - buffer-status() - Monitor buffer                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - reset-buffer() - Clear buffer                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Analysis:                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - analyze() - Extract features                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Model:                                                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - load-model() - Switch models                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                                                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Status:                                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - status() - Service status                           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - health() - Health check                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - purity-test() - Complete test                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - devices() - List devices                            â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                     â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Audio Service (Services)                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ AudioProcessor (Main Class)                          â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                       â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - model: WaveCNN1D instance                         â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - audio_buffer: deque(maxlen=32000)                â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - device: torch.device (CPU/CUDA)                  â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                       â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  Methods:                                             â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - process_audio_chunk()                             â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - infer()                                            â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - _normalize_audio()                                â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - get_buffer_status()                               â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - reset_buffer()                                    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - change_model()                                    â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                  â”‚                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ AudioStreamAnalyzer (Feature Extraction)             â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                       â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - extract_features() â†’ temporal features            â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - compute_spectral_features() â†’ FFT analysis        â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  - _zero_crossing_rate()                             â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                     â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              ML Model Layer                                   â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ WaveCNN1D (torch.nn.Module)                          â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                       â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  Architecture:                                        â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  Conv1d(1â†’32) (kernel=80, stride=4) + ReLU + Pool4  â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  Conv1d(32â†’64) (kernel=5, stride=1) + ReLU + Pool4  â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  Conv1d(64â†’128) (kernel=5, stride=1) + ReLU + Pool4 â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  Conv1d(128â†’256) (kernel=5, stride=1) + ReLU + Pool4â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  AdaptiveAvgPool1d(1)                                 â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  Linear(256â†’2)                                        â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                       â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  Input: (batch, 1, 16000) - Raw waveform            â”‚   â”‚ â”‚
â”‚  â”‚  â”‚  Output: (batch, 2) - [OK_score, NOK_score]          â”‚   â”‚ â”‚
â”‚  â”‚  â”‚                                                       â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                     â”‚                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ Model File                                            â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ /ml_models/audio_model.pth                            â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ (~5-10 MB, PyTorch format)                           â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Microphone     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Raw PCM (16-bit mono)
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Web Audio API                    â”‚
â”‚  - MediaStreamAudioSourceNode     â”‚
â”‚  - ScriptProcessorNode            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Float32Array chunks (4096 samples)
         â”‚ [0.1, 0.2, -0.15, 0.05, ...]
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useAudioCapture Hook             â”‚
â”‚  - Manages mic lifecycle          â”‚
â”‚  - Emits audioprocess events      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ audiodata: number[] 
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Audio Buffering (Frontend)       â”‚
â”‚  - Accumulates chunks             â”‚
â”‚  - ~4 chunks per request          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ HTTP POST /api/audio/process-chunk
         â”‚ {audio_data: [0.1, 0.2, -0.15, ...]}
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           BACKEND API Gateway                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Error Handling | Validation | Request Logging  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AudioProcessor.process_audio_chunk() â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                       â”‚
â”‚  1. Convert list to numpy array      â”‚
â”‚  2. Ensure float32 format            â”‚
â”‚  3. Append to circular buffer        â”‚
â”‚  4. Buffer: deque(maxlen=32000)      â”‚
â”‚     (2 seconds @ 16kHz)              â”‚
â”‚                                       â”‚
â”‚  Returns: buffer_status              â”‚
â”‚  - buffer_size: 4096                 â”‚
â”‚  - buffer_percentage: 12.8%          â”‚
â”‚  - duration_seconds: 0.256           â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ [More chunks arrive...]
         â”‚
         â”‚ HTTP POST /api/audio/infer
         â”‚ {reset_buffer: true}
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AudioProcessor.infer()               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                       â”‚
â”‚  1. Check buffer has enough data     â”‚
â”‚     (min 8000 samples / 0.5 sec)    â”‚
â”‚                                       â”‚
â”‚  2. Extract audio from buffer        â”‚
â”‚     audio_data = np.array(buffer)    â”‚
â”‚                                       â”‚
â”‚  3. Normalize audio                  â”‚
â”‚     max_abs = np.max(np.abs(x))     â”‚
â”‚     x = x / max_abs                  â”‚
â”‚                                       â”‚
â”‚  4. Convert to tensor                â”‚
â”‚     x: (1, 1, length) on device      â”‚
â”‚                                       â”‚
â”‚  5. Model inference                  â”‚
â”‚     with torch.no_grad():            â”‚
â”‚       logits = model(x)              â”‚
â”‚       probs = softmax(logits)        â”‚
â”‚                                       â”‚
â”‚  6. Extract prediction               â”‚
â”‚     class_idx = argmax(probs)        â”‚
â”‚     confidence = probs[class_idx]    â”‚
â”‚     label = 'OK' or 'NOK'            â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ HTTP Response:
         â”‚ {
         â”‚   status: "success",
         â”‚   prediction: {
         â”‚     prediction: "OK",
         â”‚     confidence: 0.94,
         â”‚     is_confident: true,
         â”‚     ok_prob: 0.94,
         â”‚     nok_prob: 0.06,
         â”‚     duration_seconds: 2.0
         â”‚   },
         â”‚   timestamp: "2024-01-15T10:30:00"
         â”‚ }
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  useAudioService Hook                   â”‚
â”‚  - Updates prediction state             â”‚
â”‚  - Manages loading state                â”‚
â”‚  - Handles errors                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PurityResultsComponent                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  âœ“ PURE (94% confidence)               â”‚
â”‚                                         â”‚
â”‚  Confidence Level: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ (94%)    â”‚
â”‚                                         â”‚
â”‚  Probability Breakdown:                 â”‚
â”‚  Pure (OK):     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 94%         â”‚
â”‚  Not Pure (NOK): â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 6%         â”‚
â”‚                                         â”‚
â”‚  Gold purity confirmed.                 â”‚
â”‚  Proceed with evaluation.               â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## State Management Flow

```
Frontend State:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useAudioCapture State                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ isRecording: boolean                    â”‚
â”‚ error: string | null                    â”‚
â”‚ audioLevel: number (0-1)                â”‚
â”‚ processorRef: ScriptProcessorNode       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”œâ”€â”€â†’ Controls "Start/Stop" buttons
          â”œâ”€â”€â†’ Shows level indicator
          â””â”€â”€â†’ Feeds audio chunks to service

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useAudioService State                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ prediction: AudioPredictionResponse     â”‚
â”‚ - prediction: "OK" | "NOK"              â”‚
â”‚ - confidence: 0.0-1.0                   â”‚
â”‚ - is_confident: boolean                 â”‚
â”‚ - ok_prob, nok_prob: 0.0-1.0            â”‚
â”‚ - duration_seconds: number              â”‚
â”‚ - buffer_size: number                   â”‚
â”‚                                         â”‚
â”‚ loading: boolean                        â”‚
â”‚ error: string | null                    â”‚
â”‚ bufferStatus:                           â”‚
â”‚ - buffer_percentage: 0-100              â”‚
â”‚ - duration_seconds: 0-100               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”œâ”€â”€â†’ Feeds to PurityResultsComponent
          â”œâ”€â”€â†’ Feeds to AudioVisualizerComponent
          â””â”€â”€â†’ Controls "Analyze" button state

Backend State:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AudioProcessor (Global Instance)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ model: WaveCNN1D | None                  â”‚
â”‚ is_model_loaded: boolean                 â”‚
â”‚ audio_buffer: deque[float]               â”‚
â”‚ - maxlen: 32000 (2 sec @ 16kHz)          â”‚
â”‚ device: torch.device                     â”‚
â”‚ sample_rate: int                         â”‚
â”‚ window_size: float                       â”‚
â”‚ confidence_threshold: float              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â””â”€â”€â†’ Per-request operations:
              - process_audio_chunk()
              - infer()
              - reset_buffer()
              - get_buffer_status()
              - change_model()
```

---

## Request/Response Cycle

### Stream Audio Chunk
```
REQUEST:
POST /api/audio/process-chunk
Content-Type: application/json

{
  "audio_data": [0.1, 0.2, -0.15, 0.05, ...],
  "chunk_index": 0,
  "session_id": "sess_123"
}

RESPONSE (200):
{
  "status": "processed",
  "chunk_size": 4096,
  "buffer_status": {
    "buffer_size": 4096,
    "buffer_capacity": 32000,
    "duration_seconds": 0.256,
    "buffer_percentage": 12.8,
    "is_model_loaded": true
  },
  "timestamp": "2024-01-15T10:30:00"
}
```

### Run Inference
```
REQUEST:
POST /api/audio/infer
Content-Type: application/json

{
  "reset_buffer": true
}

RESPONSE (200):
{
  "status": "success",
  "prediction": {
    "prediction": "OK",
    "confidence": 0.94,
    "is_confident": true,
    "ok_prob": 0.94,
    "nok_prob": 0.06,
    "buffer_size": 32000,
    "duration_seconds": 2.0
  },
  "buffer_reset": true,
  "timestamp": "2024-01-15T10:30:05"
}

OR

RESPONSE (200):
{
  "status": "insufficient_data",
  "buffer_status": {
    "buffer_size": 8000,
    "buffer_capacity": 32000,
    "duration_seconds": 0.5,
    "buffer_percentage": 25.0,
    "is_model_loaded": true
  },
  "timestamp": "2024-01-15T10:30:05"
}
```

### Run Complete Purity Test
```
REQUEST:
POST /api/audio/purity-test
Content-Type: application/json

{
  "session_id": "sess_123",
  "appraisal_id": "app_456",
  "test_type": "rubbing_audio",
  "settings": {
    "sample_rate": 16000,
    "device": "default",
    "window_size": 2.0,
    "confidence_threshold": 0.75
  }
}

RESPONSE (200):
{
  "session_id": "sess_123",
  "test_result": "PURE",
  "audio_prediction": {
    "prediction": "OK",
    "confidence": 0.94,
    ...
  },
  "confidence": 0.94,
  "test_duration": 2.0,
  "timestamp": "2024-01-15T10:30:10"
}
```

---

## Error Handling Strategy

```
Frontend Errors:
â”œâ”€â”€ Microphone Access
â”‚   â””â”€â”€ DOMException â†’ "Failed to access microphone"
â”œâ”€â”€ Network Errors
â”‚   â””â”€â”€ Fetch fails â†’ "Connection failed to server"
â””â”€â”€ Validation
    â””â”€â”€ Invalid settings â†’ Prevent submission

Backend Errors:
â”œâ”€â”€ Model Loading (HTTP 500)
â”‚   â”œâ”€â”€ File not found â†’ "Model path doesn't exist"
â”‚   â”œâ”€â”€ Corrupt file â†’ "Failed to load state dict"
â”‚   â””â”€â”€ Version mismatch â†’ "Incompatible model version"
â”œâ”€â”€ Inference Errors (HTTP 500)
â”‚   â”œâ”€â”€ Model not loaded â†’ "Model not loaded"
â”‚   â”œâ”€â”€ Tensor shape â†’ "Invalid input dimensions"
â”‚   â””â”€â”€ CUDA error â†’ "Device memory error"
â”œâ”€â”€ Validation (HTTP 400)
â”‚   â”œâ”€â”€ Invalid audio range â†’ "Audio values out of range"
â”‚   â”œâ”€â”€ Empty chunk â†’ "Empty audio data"
â”‚   â””â”€â”€ Invalid settings â†’ "Invalid configuration"
â””â”€â”€ Insufficient Data (HTTP 200 + status)
    â””â”€â”€ Not enough samples â†’ "insufficient_data"
```

---

## Performance Characteristics

```
Latency Timeline:
0ms      â† User starts recording
         â”‚
100ms    â†’ First chunk sent to backend
         â”‚ (4KB @ 16kHz = 256 samples)
         â”‚
500ms    â†’ Multiple chunks accumulated
         â”‚ (Total ~2KB in buffer)
         â”‚
1000ms   â†’ User clicks "Analyze"
         â”‚ POST /api/audio/infer
         â”‚
1050ms   â†’ Backend processes request
         â”‚ - Check buffer size
         â”‚ - Normalize audio (5ms)
         â”‚ - Create tensor (2ms)
         â”‚ 
1055ms   â†’ Model inference (45ms)
         â”‚ - Forward pass through WaveCNN1D
         â”‚ - Softmax computation
         â”‚
1100ms   â†’ Response sent to frontend
         â”‚
1110ms   â†’ Results displayed to user
         â”‚
         Total Latency: ~110ms (API + UI)
         Model Inference: ~45ms
         Network Overhead: ~10ms

Memory Usage:
- Audio Buffer: ~128 KB (2 sec @ 16kHz)
- Model: ~30 MB (loaded once)
- Per-inference Tensor: ~50 MB (temporary)
- Total: ~60-80 MB

Throughput:
- Chunks per second: 40-50 (4KB each)
- Inferences per minute: 1-30 (depending on test duration)
- Concurrent sessions: Limited by server resources
```

---

## Extensibility Points

```
Model Switching:
POST /api/audio/load-model
â””â”€â†’ Switch between different trained models
    (e.g., v1.pth, v2.pth, specialized.pth)

Custom Analyzers:
AudioStreamAnalyzer.compute_spectral_features()
â””â”€â†’ Add new features or analysis methods

Custom Preprocessing:
AudioProcessor._normalize_audio()
â””â”€â†’ Implement different normalization schemes

Service Initialization:
initialize_audio_service(model_path)
â””â”€â†’ Can pass configuration at startup

Database Integration:
purity_test() endpoint
â””â”€â†’ Can save results to database

Multi-Model Inference:
Extend AudioProcessor
â””â”€â†’ Run ensemble of models
```

---

## Deployment Architecture

```
Development:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend    â”‚â”€â”€â”€â”€â†’â”‚ Backend     â”‚
â”‚ (localhost) â”‚     â”‚ (localhost) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Production:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Load Balancer / Reverse Proxy (nginx)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”
â”‚ Backend  â”‚         â”‚ Backend  â”‚
â”‚ Instance â”‚         â”‚ Instance â”‚
â”‚    1     â”‚         â”‚    2     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Shared Model Path â”‚
    â”‚ /ml_models/       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Or with Docker:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Docker Compose                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                       â”‚
â”‚ backend:                              â”‚
â”‚   image: gold-appraisal-backend      â”‚
â”‚   volumes:                            â”‚
â”‚     - ./ml_models:/app/ml_models:ro  â”‚
â”‚   ports:                              â”‚
â”‚     - 8000:8000                       â”‚
â”‚                                       â”‚
â”‚ frontend:                             â”‚
â”‚   image: gold-appraisal-frontend     â”‚
â”‚   ports:                              â”‚
â”‚     - 3000:3000                       â”‚
â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This completes the comprehensive audio system architecture! ğŸµ
